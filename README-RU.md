# Важно! Grave! Important!

-   Пролетарии всех стран, соединяйтесь!
-   Proletoj el ĉiuj landoj, unuiĝu!
-   Workers of the world, unite!

# Universo Platformo C#

[![Версия](https://img.shields.io/badge/version-0.1.0--alpha-blue)](https://github.com/teknokomo/universo-platformo-csharp)
[![Лицензия: Omsk Open License](https://img.shields.io/badge/license-Omsk%20Open%20License-green)](LICENSE.md)

## Основная информация

Реализация Universo Platformo / Universo MMOOMM / Universo Kiberplano на Blazor WebAssembly, ASP.NET и связанном стеке C#. Этот проект представляет собой реализацию на C# проекта [Universo Platformo](https://github.com/teknokomo/universo-platformo-react) с многопользовательским функционалом через интеграцию с Supabase и поддержкой UPDL (Universal Platform Description Language) для создания 3D/AR/VR приложений.

**Данный репозиторий представляет собой реализацию на C# проекта Universo Platformo / Universo MMOOMM, способствующую глобальной текнокомизации и спасению человечества от окончательного порабощения и полного уничтожения через создание специальных массовых многопользовательских виртуальных миров, таких как Universo MMOOMM, и платформы для их создания - Universo Platformo, изначально с игровым функционалом, затем с добавлением функционала Киберплана.**

Universo Platformo C# служит основой для реализации **Universo Kiberplano** - глобальной системы планирования и реализации, которая объединяет планы, задачи и ресурсы, управляя роботами. Эта система призвана создать комплексную структуру для всемирной координации усилий, оптимизации распределения ресурсов и обеспечения эффективной автоматизации через роботизированные системы, всё в рамках единой цифровой среды.

Более подробная информация обо всём этом изложена в "Книге Будущего" и различных других наших материалах, большинство из которых всё ещё плохо структурированы и не на английском языке, но прямо сейчас ведётся работа по созданию новой подробной документации, которая будет представлена на многих языках.

## Вдохновение

Наш замечательный проект, который поможет создать глобальную текнокомизацию и спасти человечество от окончательного порабощения и полного уничтожения, в настоящее время находится на стадии пре-альфа. Мы реализуем версию Universo Platformo на основе C# с использованием Blazor WebAssembly для фронтенда и ASP.NET для бэкенда, которая послужит основой для создания интерактивных 3D/AR/VR впечатлений.

Эта реализация фокусируется на создании надёжной, типобезопасной платформы с использованием технологий C# и .NET для обеспечения создания кроссплатформенных 3D приложений через визуальный интерфейс на основе узлов.

## Где я и что мне делать?

Недалёкое будущее, Омск - столица мира, в башне Олимп-1 учёные объясняют вам, что возможно подключить ваше сознание к роботу в другой части Вселенной, в параллельной реальности, управляемой роботами, которых мы называем Робокубанцами, через недавно открытую систему Великого Кольца.

В Universo Platformo C# вы находитесь у пульта управления этой революционной технологией. Через визуальный редактор узлов, построенный на Blazor, вы можете создавать интерактивные 3D сцены, AR впечатления и VR миры, которые соединяют нашу реальность с параллельными вселенными.

Ваша миссия - помочь построить и расширить эту платформу, создавать новые экспортёры, улучшать систему узлов и вносить вклад в механизм публикации, который позволит делиться этими впечатлениями через мультивселенную.

## Контактная информация

По вопросам или для сотрудничества обращайтесь:

-   VK: [https://vk.com/vladimirlevadnij](https://vk.com/vladimirlevadnij)
-   Telegram: [https://t.me/Vladimir_Levadnij](https://t.me/Vladimir_Levadnij)
-   Email: [universo.pro@yandex.com](mailto:universo.pro@yandex.com)

Наш сайт: [https://universo.pro](https://universo.pro)

## Обзор

Universo Platformo C# - это проект, который предоставляет:

-   **Многопользовательский функционал** через интеграцию с Supabase
-   **Универсальную систему узлов (UPDL)** для описания сцен и логики
-   **Мультиплатформенный экспорт** для генерации AR/VR/3D приложений
-   **Механизм публикации** для развёртывания сгенерированных приложений
-   **Типобезопасную архитектуру** с использованием C# и технологий .NET
-   **Современный веб-интерфейс** на Blazor WebAssembly

Проект нацелен на создание единой платформы для разработки интерактивных 3D приложений, которые могут быть экспортированы в различные технологии, включая AR.js, PlayCanvas, Babylon.js, Three.js и A-Frame.

## ⚠️ Архитектурное предупреждение: Обязательная модульная структура

**КРИТИЧНО**: Этот проект следует **НЕ ПОДЛЕЖАЩЕЙ ОБСУЖДЕНИЮ** модульной архитектуре пакетов:

-   ✅ **ВСЯ функциональность ДОЛЖНА быть в директории `src/packages/`**
-   ✅ Каждая функция ДОЛЖНА быть разделена на пакеты `-frt` (фронтенд) и `-srv` (бэкенд)
-   ✅ Каждый пакет ДОЛЖЕН иметь поддиректорию `base/` для основной реализации
-   ❌ **ЗАПРЕЩЕНО**: Функциональность вне директории `src/packages/`
-   ❌ **ЗАПРЕЩЕНО**: Монолитные реализации, смешивающие фронтенд и бэкенд

**Обоснование**: Пакеты постепенно будут мигрировать в отдельные репозитории по мере созревания проекта. Эта архитектура НЕ является опциональной - она фундаментальна для долгосрочной эволюции проекта.

См. [Принцип I Конституции](.specify/memory/constitution.md) для полных деталей.

## Текущий статус

**Текущая версия**: 0.1.0-alpha (Ноябрь 2025)

**Основной фокус**:

-   Настройка структуры проекта
-   Реализация архитектуры монорепозитория с использованием решений .NET
-   Базовая аутентификация и авторизация с Supabase
-   Интеграция библиотеки UI компонентов MudBlazor
-   Организация пакетов по образцу версии на React

## Технологический стек

-   .NET 9.0 или новее
-   C# 13.0
-   Blazor WebAssembly (Фронтенд)
-   ASP.NET Core (Бэкенд)
-   Supabase (Многопользовательский функционал и база данных)
-   MudBlazor (UI компоненты Material Design)
-   Entity Framework Core (ORM)

## Структура проекта

**⚠️ ОБЯЗАТЕЛЬНАЯ АРХИТЕКТУРА**: Все функции ДОЛЖНЫ быть в `src/packages/`. См. [Архитектурное предупреждение](#️-архитектурное-предупреждение-обязательная-модульная-структура) выше.

```
universo-platformo-csharp/
├── src/
│   ├── packages/                  # ⚠️ ВСЕ пакеты функций ДОЛЖНЫ быть здесь
│   │   ├── analytics-frt/         # Аналитика фронтенд
│   │   │   └── base/              # Базовая реализация
│   │   ├── analytics-srv/         # Аналитика бэкенд
│   │   │   └── base/              # Базовая реализация
│   │   ├── auth-frt/              # Аутентификация фронтенд
│   │   │   └── base/              # Базовая реализация
│   │   ├── auth-srv/              # Аутентификация бэкенд
│   │   │   └── base/              # Базовая реализация
│   │   ├── clusters-frt/          # Кластеры фронтенд
│   │   │   └── base/              # Базовая реализация
│   │   ├── clusters-srv/          # Кластеры бэкенд
│   │   │   └── base/              # Базовая реализация
│   │   ├── metaverses-frt/        # Метавселенные фронтенд
│   │   │   └── base/              # Базовая реализация
│   │   ├── metaverses-srv/        # Метавселенные бэкенд
│   │   │   └── base/              # Базовая реализация
│   │   ├── spaces-frt/            # Пространства фронтенд
│   │   │   └── base/              # Базовая реализация
│   │   ├── spaces-srv/            # Пространства бэкенд
│   │   │   └── base/              # Базовая реализация
│   │   ├── uniks-frt/             # Уники фронтенд
│   │   │   └── base/              # Базовая реализация
│   │   ├── uniks-srv/             # Уники бэкенд
│   │   │   └── base/              # Базовая реализация
│   │   ├── updl/                  # Система узлов UPDL
│   │   │   └── base/              # Базовая реализация
│   │   └── publish/               # Система публикации
│   │       └── base/              # Базовая реализация
│   ├── shared/                    # ⚠️ ТОЛЬКО для инфраструктурных библиотек
│   │   ├── Universo.Types/        # Общие типы
│   │   ├── Universo.Utils/        # Утилиты
│   │   ├── Universo.I18n/         # Интернационализация
│   │   └── Universo.Common/       # Обработка ошибок, валидация, кеширование
│   └── Universo.sln               # Главный файл решения
├── tests/                         # Тестовые проекты
├── docs/                          # Документация (будет перенесена в отдельный репозиторий)
└── tools/                         # Инструменты сборки и разработки
```

**Что где размещается:**
- **`packages/`** - ВСЕ доменные функции (Аутентификация, Кластеры, Метавселенные, Шаблоны и т.д.)
- **`shared/`** - ТОЛЬКО сквозная инфраструктура (Типы, Утилиты, I18n, Общая инфраструктура)
- **Корень** - Файлы решения, документация, конфигурация

Эта структура позволяет:

-   **Модульность**: Каждая функциональная область содержится в своём пакете
-   **Типобезопасность**: Строгая типизация во всей кодовой базе с использованием C#
-   **Лёгкое расширение**: Новые пакеты могут быть добавлены по установленному шаблону
-   **Чёткое разделение**: Чёткие границы между кодом фронтенда и бэкенда
-   **Базовые реализации**: У каждого пакета есть папка `base/` для будущих альтернативных реализаций
-   **Миграция репозиториев**: Пакеты могут быть перемещены в отдельные репозитории без рефакторинга

## Управление монорепозиторием

В отличие от версии на React, использующей PNPM, эта реализация на C# использует:

-   **Файлы решений .NET (.sln)** для организации проектов
-   **Directory.Build.props** для общих свойств MSBuild
-   **Directory.Packages.props** для централизованного управления пакетами
-   **NuGet** для управления пакетами
-   **MSBuild** для сборки решения

Этот подход предоставляет преимущества, аналогичные рабочим областям PNPM, оставаясь в рамках экосистемы .NET.

## Возможности

### Система узлов UPDL

Universal Platform Description Language (UPDL) предоставляет единый способ описания 3D сцен и взаимодействий:

-   **Узлы сцены**: Определяют окружение и корневой контейнер
-   **Узлы объектов**: 3D модели, примитивы с материалами и трансформациями
-   **Узлы камеры**: Различные типы камер с настраиваемыми свойствами
-   **Узлы освещения**: Различные типы света с контролем цвета и интенсивности
-   **Узлы взаимодействия**: Обработка пользовательского ввода и событий
-   **Узлы анимации**: Управление анимациями и поведением объектов

### Мультиплатформенный экспорт

Система может экспортировать на несколько платформ из одного описания UPDL:

-   **AR.js / A-Frame**: Веб-дополненная реальность
-   **PlayCanvas**: Интеграция с движком PlayCanvas
-   **Babylon.js**: Продвинутый 3D рендеринг
-   **Three.js**: Популярная 3D библиотека для веб
-   **A-Frame VR**: Впечатления виртуальной реальности

### Система публикации

Легко публикуйте и делитесь своими творениями:

-   **Структура URL**: Чистые URL для доступа к опубликованным проектам
-   **Встраивание**: Опции для встроенного или автономного просмотра
-   **Версионирование**: Поддержка ревизий проектов

## Функционал Universo Platformo

Universo Platformo - это универсальная платформа для разработки метавселенных, виртуальной реальности, многопользовательских игр и промышленных приложений. Она предоставляет инструменты для создания, редактирования и управления проектами в реальном времени, а также поддерживает интеграцию с различными технологическими стеками.

Ключевые функциональные области включают:

-   **Метавселенные**: Инструменты для создания виртуальных миров с уникальными экосистемами
-   **Разработка игр**: Визуальный скриптинг, ИИ для NPC, редакторы физики
-   **Сетевое взаимодействие**: Поддержка многопользовательского режима и совместная работа в реальном времени
-   **Управление ресурсами**: Импорт/экспорт 3D моделей и оптимизация ресурсов
-   **Промышленная интеграция**: Интеграция с CAD, цифровые двойники, инструменты симуляции
-   **Управление проектами**: Командное сотрудничество и контроль версий
-   **Высокоуровневая абстракция**: Экспорт/импорт между различными игровыми движками

## Функционал Universo MMOOMM

Universo MMOOMM - это массовая многопользовательская онлайн-игра, построенная на Universo Platformo. Она похожа на EVE Online и Star Citizen, но с дополнительным функционалом, который помогает людям объединяться, создавать организации и реализовывать функционал Киберплано.

Ключевые возможности включают:

-   **Параллельные миры**: Различные миры с уникальными экономическими системами
-   **Механики персонажа**: Создание персонажа, развитие и специализация
-   **Корабли и транспорт**: Управление кораблями и кастомизация
-   **Профессии и карьера**: Военное дело, торговля, исследования и производство
-   **Экономика и торговля**: Динамичная экономика и производственные цепочки
-   **Социальные механики**: Корпорации, дипломатия и политика
-   **Исследования**: Сканирование, планетарные исследования и открытия
-   **Строительство баз**: Постройка баз и территориальный контроль
-   **Наука и технологии**: Исследования и деревья технологий

## Кроссплатформенная реализация

Universo Platformo разрабатывается на нескольких технологических стеках:

-   **C#**: Этот репозиторий реализует Universo Platformo на C#, Blazor и ASP.NET
-   **React**: Оригинальная реализация ([Universo Platformo React](https://github.com/teknokomo/universo-platformo-react))
-   **Godot**: Параллельная реализация с использованием игрового движка Godot
-   **PlayCanvas**: Другая реализация с использованием движка PlayCanvas
-   **Quasar**: Версия, построенная с фреймворком Quasar

Каждая реализация разделяет одни и те же основные концепции и цели, используя преимущества своего технологического стека.

## Начало работы

### Требования

-   .NET 9.0 SDK или новее
-   Visual Studio 2022, Visual Studio Code или JetBrains Rider
-   Node.js (для инструментария и некоторых задач сборки фронтенда)

### Установка

**ПРИМЕЧАНИЕ**: Этот проект в настоящее время находится на ранней стадии разработки. Следующие инструкции будут обновляться по мере развития проекта.

1. Клонируйте репозиторий

    ```bash
    git clone https://github.com/teknokomo/universo-platformo-csharp.git
    cd universo-platformo-csharp
    ```

2. Восстановите зависимости

    ```bash
    dotnet restore
    ```

3. Настройте переменные окружения

    - Создайте `appsettings.Development.json` в проектах бэкенда
    - Добавьте необходимую конфигурацию Supabase:
        ```json
        {
          "Supabase": {
            "Url": "your_supabase_url",
            "AnonKey": "your_supabase_anon_key",
            "JwtSecret": "your_supabase_jwt_secret"
          }
        }
        ```

4. Соберите проект

    ```bash
    dotnet build
    ```

5. Запустите приложение

    ```bash
    dotnet run --project src/packages/main-srv/base
    ```

6. Получите доступ к приложению по адресу [https://localhost:5001](https://localhost:5001)

### Режим разработки

Для разработки с горячей перезагрузкой:

```bash
dotnet watch --project src/packages/main-srv/base
```

## Дорожная карта

Разработка Universo Platformo C# следует поэтапному подходу:

### Фаза 1: Основа (Текущая)

-   Установление структуры проекта и организации монорепозитория
-   Настройка базовой аутентификации с Supabase
-   Реализация основной архитектуры пакетов
-   Создание первых пакетов функционала (Кластеры)
-   Настройка UI фреймворка MudBlazor

### Фаза 2: Основной функционал

-   Реализация системы узлов UPDL
-   Создание первых экспортёров для AR/VR технологий
-   Разработка системы публикации
-   Добавление поддержки Метавселенных, Пространств и Уников

### Фаза 3: Интеграция

-   Подключение к роботизированным системам для Universo Kiberplano
-   Реализация инструментов управления ресурсами и планирования
-   Создание цифровых двойников для реальных сред
-   Разработка комплексных рабочих процессов автоматизации

## Участие в разработке

Мы приветствуем вклад в Universo Platformo C#! Пожалуйста, следуйте этим шагам:

1. Форкните репозиторий
2. Создайте ветку функционала (`git checkout -b feature/amazing-feature`)
3. Закоммитьте свои изменения (`git commit -m 'Add some amazing feature'`)
4. Запушьте в ветку (`git push origin feature/amazing-feature`)
5. Откройте Pull Request

Пожалуйста, следуйте нашим стандартам кодирования:

-   Используйте соглашения об именовании C# (PascalCase для классов, camelCase для приватных полей)
-   Пишите XML комментарии документации для публичных API
-   Включайте юнит-тесты для нового функционала
-   Следуйте установленной структуре пакетов

## Лицензия

Этот проект реализуется под [Omsk Open License](https://universo.pro/ol) (Базовая модификация). Отдельные пакеты могут иметь другую лицензию, пожалуйста, проверьте лицензию в каждом отдельном пакете.

Omsk Open License похожа на лицензию MIT, но включает дополнительные "Основные положения", направленные на создание осмысленного и безопасного общественного достояния при защите традиционных ценностей.

В разработке этого проекта активно используются ИИ-агенты, которые обучены на различных других проектах и коде различных проектов со свободными исходниками.

Если вы считаете, что какой-то код в этом репозитории нарушает ваши авторские права, пожалуйста, создайте Issue с описанием этой проблемы, укажите, какой код нарушает ваши права, покажите оригинальный авторский код и доказательства того, что этот код сам не является копией другого кода, опишите ваши предложения по разрешению проблемы (атрибуция, замена кода и т.д.).

В любом случае, спасибо за ваше участие и вклад в развитие свободного исходного кода, который прямо или косвенно повлиял на возможность создания Universo Platformo C#!

## Отличия от версии на React

Эта реализация на C# сохраняет ту же концептуальную архитектуру, что и версия на React, но адаптирует её к экосистеме .NET:

-   **Рабочие области PNPM** → **Решение .NET с MSBuild**
-   **npm пакеты** → **NuGet пакеты и ссылки на проекты**
-   **TypeScript** → **C# со строгой типизацией**
-   **React** → **Blazor WebAssembly**
-   **Express.js** → **ASP.NET Core**
-   **Passport.js** → **ASP.NET Core Identity с Supabase**
-   **Material-UI (MUI)** → **MudBlazor**
-   **React Router** → **Blazor Router**
-   **Redux/Zustand** → **Fluxor или управление состоянием Blazor**

## Принципы архитектуры

1. **Разделение ответственности**: Фронтенд и бэкенд разделены на разные пакеты
2. **Базовые реализации**: У каждого пакета есть папка `base/` для основной реализации, позволяющая будущие альтернативные реализации
3. **Типобезопасность**: Использование строгой типизации C# во всём стеке
4. **Модульность**: Каждая функциональная область - отдельный пакет
5. **Тестируемость**: Юнит-тесты и интеграционные тесты для всех основных компонентов
6. **Документация**: Исчерпывающая XML документация для всех публичных API
7. **Интернационализация**: Поддержка нескольких языков с самого начала
